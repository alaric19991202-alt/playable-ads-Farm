@import url("https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,700;9..144,900&family=Outfit:wght@400;500;600;700;800&display=swap");

:root{
  --bg: #0b1218;
  --bg-2: #0e1822;
  --panel: rgba(10, 16, 22, 0.82);
  --panel-strong: rgba(15, 22, 30, 0.92);
  --text: #f3f7ff;
  --muted: rgba(210, 222, 238, 0.72);
  --accent: #5fe7b2;
  --accent-2: #f0c26a;
  --glow-1: rgba(95,231,178,0.12);
  --glow-2: rgba(240,194,106,0.12);
  --stroke: rgba(255,255,255,0.08);
  --shadow: 0 18px 36px rgba(0,0,0,0.45);
  --radius: clamp(16px, 2.4vw, 18px);
  --radius-md: 14px;
  --radius-sm: 12px;
  --radius-pill: 999px;
  --btnH: clamp(36px, 6vw, 44px);
  --safeB: env(safe-area-inset-bottom, 0px);
  --safeT: env(safe-area-inset-top, 0px);
  --font-main: "Outfit", "Trebuchet MS", sans-serif;
  --font-brand: "Fraunces", "Georgia", serif;

  --hud-inset: clamp(10px, 2vw, 16px);
  --topbar-pad-y: clamp(8px, 1.4vw, 12px);
  --topbar-pad-x: clamp(10px, 2vw, 16px);
  --topbar-gap: clamp(8px, 1.6vw, 12px);
  --panel-pad: clamp(12px, 2vw, 16px);
  --panel-gap: clamp(8px, 1.6vw, 12px);
  --row-gap: clamp(8px, 1.6vw, 12px);
  --picker-bottom: calc(10px + var(--safeB));
  --picker-controls-offset: clamp(-52px, -6vw, -40px);
  --hint-top: calc(110px + var(--safeT));
  --toast-bottom: calc(130px + var(--safeB));
  --brand-size: clamp(22px, 4.2vw, 30px);
  --brand-font: clamp(14px, 2.4vw, 17px);
  --chip-h: clamp(32px, 5.6vw, 36px);
  --item-h: clamp(66px, 11vw, 74px);
  --item-w: clamp(88px, 16vw, 110px);
  --item-icon: clamp(26px, 5.2vw, 32px);

  --topbar-bg: linear-gradient(135deg, var(--panel-strong), var(--panel));
  --panel-accent: linear-gradient(90deg, transparent, rgba(95,231,178,0.6), rgba(240,194,106,0.45), transparent);
  --brand-dot-shadow: 0 0 0 4px rgba(95,231,178,0.18), 0 0 16px rgba(95,231,178,0.35);

  --control-bg: rgba(255,255,255,0.08);
  --control-border: rgba(255,255,255,0.1);
  --control-text: var(--text);
  --badge-bg: rgba(95,231,178,0.25);
  --badge-text: #d9ffe7;
  --badge-night-bg: rgba(138,180,255,0.28);
  --badge-night-text: #dbe8ff;

  --btn-bg: rgba(255,255,255,0.07);
  --btn-border: rgba(255,255,255,0.09);
  --btn-text: var(--text);
  --btn-hover-bg: rgba(255,255,255,0.10);
  --btn-hover-border: rgba(255,255,255,0.18);
  --btn-shadow: none;
  --btn-secondary-bg: rgba(255,255,255,0.08);
  --btn-ghost-bg: rgba(255,255,255,0.04);
  --btn-ghost-border: rgba(255,255,255,0.12);
  --btn-primary-bg: linear-gradient(135deg, rgba(95,231,178,0.95), rgba(119,214,255,0.95));
  --btn-primary-text: #0b151d;
  --btn-primary-shadow: 0 10px 24px rgba(60,190,170,0.35);
  --btn-selected-shadow: 0 0 0 2px rgba(95,231,178,0.35);
  --btn-selected-border: rgba(95,231,178,0.6);

  --panel-toggle-bg: rgba(12,18,26,0.92);
  --panel-toggle-border: rgba(255,255,255,0.12);
  --panel-toggle-text: var(--text);
  --panel-toggle-shadow: 0 12px 26px rgba(0,0,0,0.45);
  --panel-toggle-closed-bg: linear-gradient(135deg, rgba(95,231,178,0.22), rgba(240,194,106,0.18));
  --panel-toggle-closed-border: rgba(95,231,178,0.5);
  --panel-toggle-closed-text: var(--panel-toggle-text);

  --chip-bg: rgba(255,255,255,0.06);
  --chip-border: rgba(255,255,255,0.12);
  --chip-text: var(--text);
  --chip-selected-bg: linear-gradient(135deg, rgba(95,231,178,0.25), rgba(240,194,106,0.18));
  --chip-selected-border: rgba(95,231,178,0.6);
  --chip-selected-shadow: 0 8px 18px rgba(70,200,170,0.3);
  --chip-selected-text: var(--text);

  --tile-bg: rgba(12,18,26,0.8);
  --tile-border: rgba(255,255,255,0.08);
  --tile-text: var(--text);
  --tile-shadow: 0 10px 20px rgba(0,0,0,0.32);
  --tile-selected-border: rgba(95,231,178,0.6);
  --tile-selected-shadow: 0 0 0 2px rgba(95,231,178,0.3), 0 14px 26px rgba(0,0,0,0.4);
  --tile-icon-bg: linear-gradient(135deg, rgba(95,231,178,0.25), rgba(240,194,106,0.2));
  --tile-icon-border: rgba(255,255,255,0.08);

  --assist-bg: rgba(10, 14, 22, 0.85);
  --assist-border: rgba(255,255,255,0.08);
  --assist-btn-bg: rgba(255,255,255,0.12);
  --assist-btn-border: rgba(255,255,255,0.1);
  --assist-btn-text: var(--text);
  --assist-btn-shadow: 0 6px 14px rgba(0,0,0,0.28);
  --assist-btn-active-bg: rgba(95,231,178,0.24);
  --assist-btn-active-border: rgba(95,231,178,0.45);
  --assist-btn-active-text: #d9ffe7;
  --assist-btn-danger-bg: rgba(255, 110, 110, 0.22);
  --assist-btn-danger-border: rgba(255, 130, 130, 0.4);
  --assist-btn-danger-text: #ffe5e5;

  --fov-bg: rgba(10, 14, 22, 0.9);
  --fov-border: rgba(255,255,255,0.08);

  --hint-bg: rgba(0,0,0,0.38);
  --hint-text: var(--text);
  --hint-shadow: var(--shadow);
  --toast-bg: rgba(0,0,0,0.78);
  --toast-text: var(--text);
  --toast-shadow: var(--shadow);
}

html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  background: var(--bg);
  font-family: var(--font-main);
  color: var(--text);
  overscroll-behavior: none;
  touch-action: none;
}

*, *::before, *::after {
  box-sizing: border-box;
}

body{
  background:
    radial-gradient(900px 600px at 15% 0%, var(--glow-1), transparent 60%),
    radial-gradient(900px 800px at 85% 100%, var(--glow-2), transparent 65%),
    linear-gradient(180deg, var(--bg-2), var(--bg));
  transition: background 400ms ease, color 300ms ease;
}

body.day{
  --bg: #e7f6ff;
  --bg-2: #d7efff;
  --panel: rgba(255,255,255,0.9);
  --panel-strong: rgba(255,255,255,0.96);
  --text: #1f2a37;
  --muted: #4b5c6b;
  --accent: #2f8f7a;
  --accent-2: #ffb576;
  --glow-1: rgba(96, 196, 255, 0.2);
  --glow-2: rgba(255, 200, 136, 0.22);
  --stroke: rgba(18, 30, 45, 0.08);
  --shadow: 0 18px 30px rgba(28, 56, 86, 0.14);

  --topbar-bg: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
  --panel-accent: linear-gradient(90deg, transparent, rgba(47,143,122,0.4), rgba(255,198,138,0.35), transparent);
  --brand-dot-shadow: 0 0 0 4px rgba(47,143,122,0.18), 0 0 16px rgba(47,143,122,0.3);

  --control-bg: rgba(255,255,255,0.9);
  --control-border: rgba(20,35,50,0.08);
  --control-text: #1f2a37;
  --badge-bg: rgba(47,143,122,0.18);
  --badge-text: #1f5b4e;
  --badge-night-bg: rgba(62,92,138,0.2);
  --badge-night-text: #2f3f58;

  --btn-bg: rgba(255,255,255,0.88);
  --btn-border: rgba(20,35,50,0.08);
  --btn-text: #1f2a37;
  --btn-hover-bg: rgba(255,255,255,0.95);
  --btn-hover-border: rgba(20,35,50,0.18);
  --btn-shadow: 0 8px 18px rgba(30,60,90,0.12);
  --btn-secondary-bg: rgba(255,255,255,0.7);
  --btn-ghost-bg: rgba(255,255,255,0.7);
  --btn-ghost-border: rgba(20,35,50,0.12);
  --btn-primary-bg: linear-gradient(135deg, #ffb173, #ffd390);
  --btn-primary-text: #4b2a14;
  --btn-primary-shadow: 0 12px 26px rgba(245, 166, 99, 0.35);
  --btn-selected-shadow: 0 0 0 2px rgba(47,143,122,0.25);
  --btn-selected-border: rgba(47,143,122,0.5);

  --panel-toggle-bg: linear-gradient(135deg, #2f8f7a, #3aa68e);
  --panel-toggle-border: rgba(31, 86, 74, 0.5);
  --panel-toggle-text: #f7fffb;
  --panel-toggle-shadow: 0 12px 26px rgba(42, 119, 102, 0.35);
  --panel-toggle-closed-bg: linear-gradient(135deg, rgba(47,143,122,0.24), rgba(255, 198, 138, 0.2));
  --panel-toggle-closed-border: rgba(47, 143, 122, 0.45);
  --panel-toggle-closed-text: #1f4c43;

  --chip-bg: rgba(255,255,255,0.75);
  --chip-border: rgba(22,36,52,0.08);
  --chip-text: #4b5c6b;
  --chip-selected-bg: linear-gradient(135deg, rgba(47,143,122,0.28), rgba(255, 198, 138, 0.35));
  --chip-selected-border: rgba(47,143,122,0.6);
  --chip-selected-shadow: 0 10px 20px rgba(47,143,122,0.2);
  --chip-selected-text: #205249;

  --tile-bg: rgba(255,255,255,0.98);
  --tile-border: rgba(22,36,52,0.06);
  --tile-text: #4b5c6b;
  --tile-shadow: 0 12px 24px rgba(30,60,90,0.12);
  --tile-selected-border: rgba(47,143,122,0.55);
  --tile-selected-shadow: 0 0 0 2px rgba(47,143,122,0.2), 0 16px 26px rgba(30,60,90,0.16);
  --tile-icon-bg: linear-gradient(135deg, rgba(47,143,122,0.18), rgba(255,198,138,0.28));
  --tile-icon-border: rgba(22,36,52,0.08);

  --assist-bg: rgba(255,255,255,0.92);
  --assist-border: rgba(22,36,52,0.08);
  --assist-btn-bg: rgba(255,255,255,0.9);
  --assist-btn-border: rgba(22,36,52,0.1);
  --assist-btn-text: #2a3a49;
  --assist-btn-shadow: 0 8px 16px rgba(30,60,90,0.14);
  --assist-btn-active-bg: rgba(47,143,122,0.22);
  --assist-btn-active-border: rgba(47,143,122,0.45);
  --assist-btn-active-text: #1f5b4e;
  --assist-btn-danger-bg: rgba(255, 168, 168, 0.35);
  --assist-btn-danger-border: rgba(255, 120, 120, 0.5);
  --assist-btn-danger-text: #7a2a2a;

  --fov-bg: rgba(255,255,255,0.95);
  --fov-border: rgba(22,36,52,0.08);

  --hint-bg: rgba(255,255,255,0.85);
  --hint-text: #2f3c4b;
  --hint-shadow: 0 12px 22px rgba(30,60,90,0.12);
  --toast-bg: rgba(255,255,255,0.92);
  --toast-text: #26323f;
  --toast-shadow: 0 12px 26px rgba(30,60,90,0.16);
}

#app { position: relative; width: 100%; height: 100%; overflow: hidden; }
#c { width: 100%; height: 100%; display: block; }

.loading{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(1200px 800px at 50% 30%, var(--glow-1), var(--bg) 70%);
  z-index: 10;
}
.loadingCard{
  width:min(440px, calc(100% - 32px));
  padding: 18px 18px 16px;
  background: var(--panel-strong);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}
.loadingTitle{
  color: var(--text);
  font-weight: 900;
  letter-spacing: 0.4px;
  font-size: 18px;
  margin-bottom: 12px;
}
.loadingBar{
  width:100%;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.10);
  overflow:hidden;
}
.loadingBarFill{
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  border-radius: 999px;
}
.loadingText{
  margin-top: 10px;
  color: var(--muted);
  font-size: 13px;
}

#hud{
  position:absolute; inset:0;
  pointer-events:none;
  z-index: 5;
  perspective: 1200px;
  animation: hudIn 520ms ease both;
}
@keyframes hudIn{
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

#topBar{
  pointer-events:auto;
  position:absolute;
  left: var(--hud-inset); right: var(--hud-inset);
  top: calc(var(--hud-inset) + var(--safeT));
  display:flex; align-items:center; justify-content:space-between;
  gap: var(--topbar-gap);
  padding: var(--topbar-pad-y) var(--topbar-pad-x);
  background: var(--topbar-bg);
  border: 1px solid var(--stroke);
  border-radius: calc(var(--radius) + 4px);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,0.04);
  backdrop-filter: blur(12px);
  transition: background 300ms ease, border-color 300ms ease, box-shadow 300ms ease;
}
.brand{
  display:flex; align-items:center; gap: 10px;
  font-family: var(--font-brand);
  font-weight: 900;
  letter-spacing: 0.4px;
}
.brandText{ font-size: var(--brand-font); }
.brandDot{
  width: var(--brand-size); height: var(--brand-size);
  border-radius: 20%;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: var(--brand-dot-shadow);
}
.topControls{
  display:flex;
  align-items:center;
  gap: var(--panel-gap);
  flex-wrap: wrap;
  justify-content: flex-end;
}

.clock{
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: var(--radius-sm);
  background: var(--control-bg);
  border: 1px solid var(--control-border);
  color: var(--control-text);
  font-weight: 700;
  font-size: 13px;
  letter-spacing: 0.3px;
  transition: background 300ms ease, color 300ms ease, border-color 300ms ease;
}
.clockTime{
  font-variant-numeric: tabular-nums;
}
.clockState{
  padding: 2px 8px;
  border-radius: var(--radius-pill);
  background: var(--badge-bg);
  color: var(--badge-text);
  text-transform: uppercase;
  font-size: 11px;
}
.clockState.night{
  background: var(--badge-night-bg);
  color: var(--badge-night-text);
}

#pickerWrap{
  position:absolute;
  left: var(--hud-inset); right: var(--hud-inset);
  bottom: var(--picker-bottom);
  z-index: 5;
}
.pickerControls{
  pointer-events:auto;
  position:absolute;
  right: 0;
  top: var(--picker-controls-offset);
  display:flex;
  align-items:center;
  gap: var(--panel-gap);
}
#picker{
  pointer-events:auto;
  position: relative;
  padding: var(--panel-pad);
  background: var(--panel);
  border-radius: calc(var(--radius) + 2px);
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,0.04);
  backdrop-filter: blur(14px);
  transform-origin: 50% 100%;
  transform: translateY(0) rotateX(0deg);
  transition: transform 520ms cubic-bezier(0.2,0.7,0.2,1), opacity 240ms ease, background 300ms ease, border-color 300ms ease;
  will-change: transform, opacity;
}
#picker::before{
  content:"";
  position:absolute;
  left: 12px; right: 12px;
  top: 10px;
  height: 2px;
  border-radius: var(--radius-pill);
  background: var(--panel-accent);
  opacity: 0.8;
}
body.panel-closed #picker{
  transform: translateY(120%) rotateX(65deg) scale(0.98);
  opacity: 0;
  pointer-events: none;
}
.pickerHeader{
  display:flex;
  align-items:center;
  gap: var(--panel-gap);
  margin-bottom: var(--panel-gap);
}
#categories{
  flex: 1;
  min-width: 0;
}

.fovControl{ position: relative; }
.fovPanel{
  position: absolute;
  right: 0;
  bottom: calc(100% + 10px);
  width: 170px;
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  background: var(--fov-bg);
  border: 1px solid var(--fov-border);
  box-shadow: var(--shadow);
  z-index: 7;
  opacity: 0;
  transform: translateY(8px) scale(0.98);
  pointer-events: none;
  transition: opacity 160ms ease, transform 160ms ease, background 300ms ease, border-color 300ms ease;
}
.fovPanel.open{
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
}
.fovRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  color: var(--text);
  font-size: 11px;
  font-weight: 700;
  margin-bottom: 6px;
}
.fovValue{
  font-variant-numeric: tabular-nums;
  color: var(--accent);
}
.fovSlider{
  width: 100%;
  accent-color: var(--accent);
}

.boostBtn{
  padding: 0 12px;
  gap: 6px;
}
.boostIcon{
  width: 18px;
  height: 18px;
  display:block;
}
.boostLabel{
  font-size: 12px;
  font-weight: 750;
}

.row{
  display:flex;
  gap: var(--row-gap);
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width:none;
  padding-bottom: 2px;
  scroll-padding: 0 8px;
  scroll-snap-type: x proximity;
}
.row::-webkit-scrollbar{ display:none; }

.btn{
  height: var(--btnH);
  padding: 0 14px;
  border-radius: var(--radius-md);
  border: 1px solid var(--btn-border);
  color: var(--btn-text);
  font-weight: 700;
  background: var(--btn-bg);
  white-space: nowrap;
  display:flex; align-items:center; justify-content:center;
  gap: 8px;
  user-select:none;
  cursor: pointer;
  box-shadow: var(--btn-shadow);
  transition: transform 120ms ease, box-shadow 150ms ease, background 150ms ease, border-color 150ms ease, color 150ms ease;
}
.btn:hover{ background: var(--btn-hover-bg); border-color: var(--btn-hover-border); }
.btn:active{ transform: translateY(1px); }
.btn:disabled{
  opacity: 0.45;
  cursor: not-allowed;
}
.btn.primary{
  background: var(--btn-primary-bg);
  color: var(--btn-primary-text);
  border: none;
  box-shadow: var(--btn-primary-shadow);
}
.btn.secondary{ background: var(--btn-secondary-bg); }
.btn.ghost{
  background: var(--btn-ghost-bg);
  border: 1px solid var(--btn-ghost-border);
}
.btn.cameraBtn{
  height: 34px;
  padding: 0 12px;
  font-size: 12px;
  letter-spacing: 0.4px;
}
.undoBtn{ height: 36px; padding: 0 12px; font-size: 12px; }
.ctaBtn{ min-width: 110px; }
.panelToggle{
  height: 34px;
  padding: 0 12px;
  border-radius: 999px;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  background: var(--panel-toggle-bg);
  border: 1px solid var(--panel-toggle-border);
  color: var(--panel-toggle-text);
  box-shadow: var(--panel-toggle-shadow);
}
body.panel-closed .panelToggle{
  background: var(--panel-toggle-closed-bg);
  border-color: var(--panel-toggle-closed-border);
  color: var(--panel-toggle-closed-text);
}

.btn.selected{
  box-shadow: var(--btn-selected-shadow);
  border-color: var(--btn-selected-border);
}

.categoryBtn{
  height: var(--chip-h);
  padding: 0 16px;
  border-radius: 999px;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  background: var(--chip-bg);
  border: 1px solid var(--chip-border);
  color: var(--chip-text);
  animation: popIn 420ms ease both;
  animation-delay: calc(var(--i) * 40ms);
  scroll-snap-align: start;
  transition: background 200ms ease, border-color 200ms ease, color 200ms ease, box-shadow 200ms ease;
}
.categoryBtn.selected{
  background: var(--chip-selected-bg);
  border-color: var(--chip-selected-border);
  box-shadow: var(--chip-selected-shadow);
  color: var(--chip-selected-text);
}

.itemBtn{
  min-width: var(--item-w);
  height: var(--item-h);
  padding: 8px 10px;
  border-radius: var(--radius-md);
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 12px;
  background: var(--tile-bg);
  border: 1px solid var(--tile-border);
  color: var(--tile-text);
  box-shadow: var(--tile-shadow);
  animation: popIn 420ms ease both;
  animation-delay: calc(var(--i) * 45ms);
  scroll-snap-align: start;
  transition: background 200ms ease, border-color 200ms ease, box-shadow 200ms ease, color 200ms ease;
}
.itemBtn span{ font-weight: 600; }
.itemBtn.selected{
  border-color: var(--tile-selected-border);
  box-shadow: var(--tile-selected-shadow);
}
.itemIcon{
  width: var(--item-icon);
  height: var(--item-icon);
  border-radius: var(--radius-sm);
  background: var(--tile-icon-bg);
  display:block;
  box-shadow: inset 0 0 0 1px var(--tile-icon-border);
  transition: background 200ms ease, box-shadow 200ms ease;
}

@keyframes popIn{
  from { opacity: 0; transform: translateY(8px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

.assist{
  position:absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, 0) scale(0.92);
  opacity: 0;
  pointer-events: none;
  z-index: 6;
  display:flex;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  background: var(--assist-bg);
  border: 1px solid var(--assist-border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  transition: opacity 140ms ease, transform 140ms ease, background 300ms ease, border-color 300ms ease;
}
.assist.visible{
  opacity: 1;
  transform: translate(-50%, 0) scale(1);
  pointer-events: auto;
}
.assistBtn{
  height: 32px;
  padding: 0 12px;
  border-radius: 999px;
  border: 1px solid var(--assist-btn-border);
  background: var(--assist-btn-bg);
  color: var(--assist-btn-text);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.2px;
  white-space: nowrap;
  box-shadow: var(--assist-btn-shadow);
  transition: background 200ms ease, border-color 200ms ease, color 200ms ease;
}
.assistBtn:active{ transform: translateY(1px); }
.assistBtn.active{
  background: var(--assist-btn-active-bg);
  color: var(--assist-btn-active-text);
  border-color: var(--assist-btn-active-border);
}
.assistBtn.danger{
  background: var(--assist-btn-danger-bg);
  color: var(--assist-btn-danger-text);
  border-color: var(--assist-btn-danger-border);
}

.hint{
  pointer-events:none;
  position:absolute; left: 14px; right: 14px;
  top: var(--hint-top);
  color: var(--hint-text);
  background: var(--hint-bg);
  padding: 10px 12px;
  border-radius: var(--radius);
  margin: 0 auto;
  max-width: 560px;
  box-shadow: var(--hint-shadow);
  backdrop-filter: blur(6px);
  font-size: 14px;
  transition: background 300ms ease, color 300ms ease;
}

.toast{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom: var(--toast-bottom);
  color: var(--toast-text);
  background: var(--toast-bg);
  padding: 12px 18px;
  border-radius: 999px;
  box-shadow: var(--toast-shadow);
  font-weight: 600;
  font-size: 14px;
  z-index: 1000;
  pointer-events: none;
  transition: opacity 0.3s ease;
}
.hidden{ opacity: 0; pointer-events: none; }

@media (max-width: 720px){
  :root{
    --hud-inset: 10px;
    --topbar-pad-y: 8px;
    --topbar-pad-x: 10px;
    --topbar-gap: 6px;
    --panel-gap: 8px;
    --picker-bottom: calc(58px + var(--safeB));
    --picker-controls-offset: clamp(-46px, -8vw, -34px);
    --brand-font: 15px;
    --item-h: clamp(64px, 20vw, 70px);
    --item-w: clamp(84px, 24vw, 98px);
    --item-icon: clamp(24px, 6vw, 30px);
    --hint-top: calc(128px + var(--safeT));
    --toast-bottom: calc(150px + var(--safeB));
  }
  #topBar{
    flex-wrap: wrap;
  }
  .topControls{
    gap: 6px;
    width: 100%;
    justify-content: flex-end;
  }
  .ctaBtn{ min-width: 90px; font-size: 12px; }
  .pickerControls{
    gap: 8px;
    flex-wrap: wrap;
    justify-content: flex-end;
  }
}

@media (max-width: 520px){
  :root{
    --brand-font: 13px;
    --brand-size: 20px;
    --chip-h: 30px;
    --hint-top: calc(140px + var(--safeT));
  }
  .brand{ gap: 8px; }
  .boostLabel{ font-size: 11px; }
}

@media (prefers-reduced-motion: reduce){
  *{
    animation-duration: 1ms !important;
    transition-duration: 1ms !important;
  }
}
